{"ast":null,"code":"import axios from 'axios';\nimport { toast } from 'react-hot-toast';\nimport { autoDetectBackendUrl } from '../utils/networkUtils';\n\n// Dynamic API URL detection\nlet apiBaseURL = null;\nconst initializeApi = async () => {\n  if (!apiBaseURL) {\n    apiBaseURL = await autoDetectBackendUrl();\n  }\n  return apiBaseURL;\n};\n\n// Create axios instance with dynamic URL\nconst api = axios.create({\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Set base URL dynamically\ninitializeApi().then(url => {\n  api.defaults.baseURL = url;\n  console.log('🔗 API Base URL set to:', url);\n});\n\n// Request interceptor\napi.interceptors.request.use(config => {\n  // Add auth token to requests\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  // Add request timestamp for debugging\n  config.metadata = {\n    startTime: new Date()\n  };\n\n  // Log request in development\n  if (process.env.NODE_ENV === 'development') {\n    var _config$method;\n    console.log(`🚀 ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`, {\n      data: config.data,\n      params: config.params\n    });\n  }\n  return config;\n}, error => {\n  console.error('Request interceptor error:', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor\napi.interceptors.response.use(response => {\n  // Calculate request duration\n  const duration = new Date() - response.config.metadata.startTime;\n\n  // Log response in development\n  if (process.env.NODE_ENV === 'development') {\n    var _response$config$meth;\n    console.log(`✅ ${(_response$config$meth = response.config.method) === null || _response$config$meth === void 0 ? void 0 : _response$config$meth.toUpperCase()} ${response.config.url} (${duration}ms)`, response.data);\n  }\n  return response;\n}, error => {\n  var _error$config, _error$config$metadat;\n  // Calculate request duration if available\n  const duration = (_error$config = error.config) !== null && _error$config !== void 0 && (_error$config$metadat = _error$config.metadata) !== null && _error$config$metadat !== void 0 && _error$config$metadat.startTime ? new Date() - error.config.metadata.startTime : 0;\n\n  // Log error in development\n  if (process.env.NODE_ENV === 'development') {\n    var _error$config2, _error$config2$method, _error$config3, _error$response;\n    console.error(`❌ ${(_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : (_error$config2$method = _error$config2.method) === null || _error$config2$method === void 0 ? void 0 : _error$config2$method.toUpperCase()} ${(_error$config3 = error.config) === null || _error$config3 === void 0 ? void 0 : _error$config3.url} (${duration}ms)`, ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  }\n\n  // Handle different error types\n  if (error.response) {\n    // Server responded with error status\n    const {\n      status,\n      data\n    } = error.response;\n    switch (status) {\n      case 401:\n        // Unauthorized - clear token and redirect to login\n        localStorage.removeItem('token');\n        delete api.defaults.headers.common['Authorization'];\n\n        // Only show toast if not already on login page\n        if (!window.location.pathname.includes('/login')) {\n          toast.error('Oturum süreniz doldu. Lütfen tekrar giriş yapın.');\n          // Redirect to login after a short delay\n          setTimeout(() => {\n            window.location.href = '/login';\n          }, 1500);\n        }\n        break;\n      case 403:\n        toast.error('Bu işlem için yetkiniz bulunmuyor.');\n        break;\n      case 404:\n        toast.error('İstenen kaynak bulunamadı.');\n        break;\n      case 422:\n        // Validation errors\n        if (data.errors && Array.isArray(data.errors)) {\n          data.errors.forEach(err => {\n            toast.error(err.message || err);\n          });\n        } else {\n          toast.error(data.message || 'Girilen bilgiler geçersiz.');\n        }\n        break;\n      case 429:\n        toast.error('Çok fazla istek gönderdiniz. Lütfen bir süre bekleyin.');\n        break;\n      case 500:\n        toast.error('Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.');\n        break;\n      default:\n        toast.error(data.message || 'Bir hata oluştu.');\n    }\n  } else if (error.request) {\n    // Network error\n    if (error.code === 'ECONNABORTED') {\n      toast.error('İstek zaman aşımına uğradı. Lütfen tekrar deneyin.');\n    } else {\n      toast.error('Bağlantı hatası. İnternet bağlantınızı kontrol edin.');\n    }\n  } else {\n    // Something else happened\n    toast.error('Beklenmeyen bir hata oluştu.');\n  }\n  return Promise.reject(error);\n});\n\n// Helper functions for common API operations\nexport const apiHelpers = {\n  // Set auth token\n  setAuthToken: token => {\n    if (token) {\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      localStorage.setItem('token', token);\n    } else {\n      delete api.defaults.headers.common['Authorization'];\n      localStorage.removeItem('token');\n    }\n  },\n  // Remove auth token\n  removeAuthToken: () => {\n    delete api.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n  },\n  // Upload file with progress\n  uploadFile: (url, file, onProgress) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    return api.post(url, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      onUploadProgress: progressEvent => {\n        if (onProgress) {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          onProgress(percentCompleted);\n        }\n      }\n    });\n  },\n  // Download file\n  downloadFile: async (url, filename) => {\n    try {\n      const response = await api.get(url, {\n        responseType: 'blob'\n      });\n\n      // Create blob link to download\n      const blob = new Blob([response.data]);\n      const link = document.createElement('a');\n      link.href = window.URL.createObjectURL(blob);\n      link.download = filename || 'download';\n\n      // Trigger download\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      // Clean up\n      window.URL.revokeObjectURL(link.href);\n      return {\n        success: true\n      };\n    } catch (error) {\n      console.error('Download error:', error);\n      toast.error('Dosya indirilemedi.');\n      return {\n        success: false,\n        error\n      };\n    }\n  },\n  // Retry failed request\n  retryRequest: (originalRequest, maxRetries = 3, delay = 1000) => {\n    return new Promise((resolve, reject) => {\n      let retries = 0;\n      const attemptRequest = () => {\n        api(originalRequest).then(resolve).catch(error => {\n          var _error$response2;\n          retries++;\n          if (retries < maxRetries && ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) >= 500) {\n            setTimeout(attemptRequest, delay * retries);\n          } else {\n            reject(error);\n          }\n        });\n      };\n      attemptRequest();\n    });\n  },\n  // Check if request should be retried\n  shouldRetry: error => {\n    var _error$response3;\n    return ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) >= 500 || error.code === 'ECONNABORTED' || error.code === 'NETWORK_ERROR';\n  },\n  // Format API error for display\n  formatError: error => {\n    var _error$response4, _error$response4$data;\n    if ((_error$response4 = error.response) !== null && _error$response4 !== void 0 && (_error$response4$data = _error$response4.data) !== null && _error$response4$data !== void 0 && _error$response4$data.message) {\n      return error.response.data.message;\n    }\n    if (error.message) {\n      return error.message;\n    }\n    return 'Bilinmeyen bir hata oluştu';\n  },\n  // Check if user is online\n  checkConnection: async () => {\n    try {\n      await api.get('/health', {\n        timeout: 5000\n      });\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n};\n\n// Export auth token helpers\nexport const {\n  setAuthToken,\n  removeAuthToken\n} = apiHelpers;\n\n// Export default api instance\nexport default api;","map":{"version":3,"names":["axios","toast","autoDetectBackendUrl","apiBaseURL","initializeApi","api","create","timeout","headers","then","url","defaults","baseURL","console","log","interceptors","request","use","config","token","localStorage","getItem","Authorization","metadata","startTime","Date","process","env","NODE_ENV","_config$method","method","toUpperCase","data","params","error","Promise","reject","response","duration","_response$config$meth","_error$config","_error$config$metadat","_error$config2","_error$config2$method","_error$config3","_error$response","message","status","removeItem","common","window","location","pathname","includes","setTimeout","href","errors","Array","isArray","forEach","err","code","apiHelpers","setAuthToken","setItem","removeAuthToken","uploadFile","file","onProgress","formData","FormData","append","post","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","downloadFile","filename","get","responseType","blob","Blob","link","document","createElement","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","success","retryRequest","originalRequest","maxRetries","delay","resolve","retries","attemptRequest","catch","_error$response2","shouldRetry","_error$response3","formatError","_error$response4","_error$response4$data","checkConnection"],"sources":["/Users/hakankarahan/Desktop/fabrikayazilimi/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-hot-toast';\nimport { autoDetectBackendUrl } from '../utils/networkUtils';\n\n// Dynamic API URL detection\nlet apiBaseURL = null;\n\nconst initializeApi = async () => {\n  if (!apiBaseURL) {\n    apiBaseURL = await autoDetectBackendUrl();\n  }\n  return apiBaseURL;\n};\n\n// Create axios instance with dynamic URL\nconst api = axios.create({\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Set base URL dynamically\ninitializeApi().then(url => {\n  api.defaults.baseURL = url;\n  console.log('🔗 API Base URL set to:', url);\n});\n\n// Request interceptor\napi.interceptors.request.use(\n  (config) => {\n    // Add auth token to requests\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n\n    // Add request timestamp for debugging\n    config.metadata = { startTime: new Date() };\n\n    // Log request in development\n    if (process.env.NODE_ENV === 'development') {\n      console.log(`🚀 ${config.method?.toUpperCase()} ${config.url}`, {\n        data: config.data,\n        params: config.params,\n      });\n    }\n\n    return config;\n  },\n  (error) => {\n    console.error('Request interceptor error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor\napi.interceptors.response.use(\n  (response) => {\n    // Calculate request duration\n    const duration = new Date() - response.config.metadata.startTime;\n\n    // Log response in development\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\n        `✅ ${response.config.method?.toUpperCase()} ${response.config.url} (${duration}ms)`,\n        response.data\n      );\n    }\n\n    return response;\n  },\n  (error) => {\n    // Calculate request duration if available\n    const duration = error.config?.metadata?.startTime \n      ? new Date() - error.config.metadata.startTime \n      : 0;\n\n    // Log error in development\n    if (process.env.NODE_ENV === 'development') {\n      console.error(\n        `❌ ${error.config?.method?.toUpperCase()} ${error.config?.url} (${duration}ms)`,\n        error.response?.data || error.message\n      );\n    }\n\n    // Handle different error types\n    if (error.response) {\n      // Server responded with error status\n      const { status, data } = error.response;\n      \n      switch (status) {\n        case 401:\n          // Unauthorized - clear token and redirect to login\n          localStorage.removeItem('token');\n          delete api.defaults.headers.common['Authorization'];\n          \n          // Only show toast if not already on login page\n          if (!window.location.pathname.includes('/login')) {\n            toast.error('Oturum süreniz doldu. Lütfen tekrar giriş yapın.');\n            // Redirect to login after a short delay\n            setTimeout(() => {\n              window.location.href = '/login';\n            }, 1500);\n          }\n          break;\n          \n        case 403:\n          toast.error('Bu işlem için yetkiniz bulunmuyor.');\n          break;\n          \n        case 404:\n          toast.error('İstenen kaynak bulunamadı.');\n          break;\n          \n        case 422:\n          // Validation errors\n          if (data.errors && Array.isArray(data.errors)) {\n            data.errors.forEach(err => {\n              toast.error(err.message || err);\n            });\n          } else {\n            toast.error(data.message || 'Girilen bilgiler geçersiz.');\n          }\n          break;\n          \n        case 429:\n          toast.error('Çok fazla istek gönderdiniz. Lütfen bir süre bekleyin.');\n          break;\n          \n        case 500:\n          toast.error('Sunucu hatası oluştu. Lütfen daha sonra tekrar deneyin.');\n          break;\n          \n        default:\n          toast.error(data.message || 'Bir hata oluştu.');\n      }\n    } else if (error.request) {\n      // Network error\n      if (error.code === 'ECONNABORTED') {\n        toast.error('İstek zaman aşımına uğradı. Lütfen tekrar deneyin.');\n      } else {\n        toast.error('Bağlantı hatası. İnternet bağlantınızı kontrol edin.');\n      }\n    } else {\n      // Something else happened\n      toast.error('Beklenmeyen bir hata oluştu.');\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// Helper functions for common API operations\nexport const apiHelpers = {\n  // Set auth token\n  setAuthToken: (token) => {\n    if (token) {\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      localStorage.setItem('token', token);\n    } else {\n      delete api.defaults.headers.common['Authorization'];\n      localStorage.removeItem('token');\n    }\n  },\n\n  // Remove auth token\n  removeAuthToken: () => {\n    delete api.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n  },\n\n  // Upload file with progress\n  uploadFile: (url, file, onProgress) => {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    return api.post(url, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n      onUploadProgress: (progressEvent) => {\n        if (onProgress) {\n          const percentCompleted = Math.round(\n            (progressEvent.loaded * 100) / progressEvent.total\n          );\n          onProgress(percentCompleted);\n        }\n      },\n    });\n  },\n\n  // Download file\n  downloadFile: async (url, filename) => {\n    try {\n      const response = await api.get(url, {\n        responseType: 'blob',\n      });\n\n      // Create blob link to download\n      const blob = new Blob([response.data]);\n      const link = document.createElement('a');\n      link.href = window.URL.createObjectURL(blob);\n      link.download = filename || 'download';\n      \n      // Trigger download\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      // Clean up\n      window.URL.revokeObjectURL(link.href);\n      \n      return { success: true };\n    } catch (error) {\n      console.error('Download error:', error);\n      toast.error('Dosya indirilemedi.');\n      return { success: false, error };\n    }\n  },\n\n  // Retry failed request\n  retryRequest: (originalRequest, maxRetries = 3, delay = 1000) => {\n    return new Promise((resolve, reject) => {\n      let retries = 0;\n      \n      const attemptRequest = () => {\n        api(originalRequest)\n          .then(resolve)\n          .catch((error) => {\n            retries++;\n            if (retries < maxRetries && error.response?.status >= 500) {\n              setTimeout(attemptRequest, delay * retries);\n            } else {\n              reject(error);\n            }\n          });\n      };\n      \n      attemptRequest();\n    });\n  },\n\n  // Check if request should be retried\n  shouldRetry: (error) => {\n    return (\n      error.response?.status >= 500 ||\n      error.code === 'ECONNABORTED' ||\n      error.code === 'NETWORK_ERROR'\n    );\n  },\n\n  // Format API error for display\n  formatError: (error) => {\n    if (error.response?.data?.message) {\n      return error.response.data.message;\n    }\n    if (error.message) {\n      return error.message;\n    }\n    return 'Bilinmeyen bir hata oluştu';\n  },\n\n  // Check if user is online\n  checkConnection: async () => {\n    try {\n      await api.get('/health', { timeout: 5000 });\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n};\n\n// Export auth token helpers\nexport const { setAuthToken, removeAuthToken } = apiHelpers;\n\n// Export default api instance\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,oBAAoB,QAAQ,uBAAuB;;AAE5D;AACA,IAAIC,UAAU,GAAG,IAAI;AAErB,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;EAChC,IAAI,CAACD,UAAU,EAAE;IACfA,UAAU,GAAG,MAAMD,oBAAoB,CAAC,CAAC;EAC3C;EACA,OAAOC,UAAU;AACnB,CAAC;;AAED;AACA,MAAME,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAJ,aAAa,CAAC,CAAC,CAACK,IAAI,CAACC,GAAG,IAAI;EAC1BL,GAAG,CAACM,QAAQ,CAACC,OAAO,GAAGF,GAAG;EAC1BG,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEJ,GAAG,CAAC;AAC7C,CAAC,CAAC;;AAEF;AACAL,GAAG,CAACU,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EACV;EACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACV,OAAO,CAACc,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;;EAEA;EACAD,MAAM,CAACK,QAAQ,GAAG;IAAEC,SAAS,EAAE,IAAIC,IAAI,CAAC;EAAE,CAAC;;EAE3C;EACA,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;IAAA,IAAAC,cAAA;IAC1ChB,OAAO,CAACC,GAAG,CAAC,OAAAe,cAAA,GAAMX,MAAM,CAACY,MAAM,cAAAD,cAAA,uBAAbA,cAAA,CAAeE,WAAW,CAAC,CAAC,IAAIb,MAAM,CAACR,GAAG,EAAE,EAAE;MAC9DsB,IAAI,EAAEd,MAAM,CAACc,IAAI;MACjBC,MAAM,EAAEf,MAAM,CAACe;IACjB,CAAC,CAAC;EACJ;EAEA,OAAOf,MAAM;AACf,CAAC,EACAgB,KAAK,IAAK;EACTrB,OAAO,CAACqB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;EAClD,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA7B,GAAG,CAACU,YAAY,CAACsB,QAAQ,CAACpB,GAAG,CAC1BoB,QAAQ,IAAK;EACZ;EACA,MAAMC,QAAQ,GAAG,IAAIb,IAAI,CAAC,CAAC,GAAGY,QAAQ,CAACnB,MAAM,CAACK,QAAQ,CAACC,SAAS;;EAEhE;EACA,IAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;IAAA,IAAAW,qBAAA;IAC1C1B,OAAO,CAACC,GAAG,CACT,MAAAyB,qBAAA,GAAKF,QAAQ,CAACnB,MAAM,CAACY,MAAM,cAAAS,qBAAA,uBAAtBA,qBAAA,CAAwBR,WAAW,CAAC,CAAC,IAAIM,QAAQ,CAACnB,MAAM,CAACR,GAAG,KAAK4B,QAAQ,KAAK,EACnFD,QAAQ,CAACL,IACX,CAAC;EACH;EAEA,OAAOK,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAK;EAAA,IAAAM,aAAA,EAAAC,qBAAA;EACT;EACA,MAAMH,QAAQ,GAAG,CAAAE,aAAA,GAAAN,KAAK,CAAChB,MAAM,cAAAsB,aAAA,gBAAAC,qBAAA,GAAZD,aAAA,CAAcjB,QAAQ,cAAAkB,qBAAA,eAAtBA,qBAAA,CAAwBjB,SAAS,GAC9C,IAAIC,IAAI,CAAC,CAAC,GAAGS,KAAK,CAAChB,MAAM,CAACK,QAAQ,CAACC,SAAS,GAC5C,CAAC;;EAEL;EACA,IAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;IAAA,IAAAc,cAAA,EAAAC,qBAAA,EAAAC,cAAA,EAAAC,eAAA;IAC1ChC,OAAO,CAACqB,KAAK,CACX,MAAAQ,cAAA,GAAKR,KAAK,CAAChB,MAAM,cAAAwB,cAAA,wBAAAC,qBAAA,GAAZD,cAAA,CAAcZ,MAAM,cAAAa,qBAAA,uBAApBA,qBAAA,CAAsBZ,WAAW,CAAC,CAAC,KAAAa,cAAA,GAAIV,KAAK,CAAChB,MAAM,cAAA0B,cAAA,uBAAZA,cAAA,CAAclC,GAAG,KAAK4B,QAAQ,KAAK,EAC/E,EAAAO,eAAA,GAAAX,KAAK,CAACG,QAAQ,cAAAQ,eAAA,uBAAdA,eAAA,CAAgBb,IAAI,KAAIE,KAAK,CAACY,OAChC,CAAC;EACH;;EAEA;EACA,IAAIZ,KAAK,CAACG,QAAQ,EAAE;IAClB;IACA,MAAM;MAAEU,MAAM;MAAEf;IAAK,CAAC,GAAGE,KAAK,CAACG,QAAQ;IAEvC,QAAQU,MAAM;MACZ,KAAK,GAAG;QACN;QACA3B,YAAY,CAAC4B,UAAU,CAAC,OAAO,CAAC;QAChC,OAAO3C,GAAG,CAACM,QAAQ,CAACH,OAAO,CAACyC,MAAM,CAAC,eAAe,CAAC;;QAEnD;QACA,IAAI,CAACC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;UAChDpD,KAAK,CAACiC,KAAK,CAAC,kDAAkD,CAAC;UAC/D;UACAoB,UAAU,CAAC,MAAM;YACfJ,MAAM,CAACC,QAAQ,CAACI,IAAI,GAAG,QAAQ;UACjC,CAAC,EAAE,IAAI,CAAC;QACV;QACA;MAEF,KAAK,GAAG;QACNtD,KAAK,CAACiC,KAAK,CAAC,oCAAoC,CAAC;QACjD;MAEF,KAAK,GAAG;QACNjC,KAAK,CAACiC,KAAK,CAAC,4BAA4B,CAAC;QACzC;MAEF,KAAK,GAAG;QACN;QACA,IAAIF,IAAI,CAACwB,MAAM,IAAIC,KAAK,CAACC,OAAO,CAAC1B,IAAI,CAACwB,MAAM,CAAC,EAAE;UAC7CxB,IAAI,CAACwB,MAAM,CAACG,OAAO,CAACC,GAAG,IAAI;YACzB3D,KAAK,CAACiC,KAAK,CAAC0B,GAAG,CAACd,OAAO,IAAIc,GAAG,CAAC;UACjC,CAAC,CAAC;QACJ,CAAC,MAAM;UACL3D,KAAK,CAACiC,KAAK,CAACF,IAAI,CAACc,OAAO,IAAI,4BAA4B,CAAC;QAC3D;QACA;MAEF,KAAK,GAAG;QACN7C,KAAK,CAACiC,KAAK,CAAC,wDAAwD,CAAC;QACrE;MAEF,KAAK,GAAG;QACNjC,KAAK,CAACiC,KAAK,CAAC,yDAAyD,CAAC;QACtE;MAEF;QACEjC,KAAK,CAACiC,KAAK,CAACF,IAAI,CAACc,OAAO,IAAI,kBAAkB,CAAC;IACnD;EACF,CAAC,MAAM,IAAIZ,KAAK,CAAClB,OAAO,EAAE;IACxB;IACA,IAAIkB,KAAK,CAAC2B,IAAI,KAAK,cAAc,EAAE;MACjC5D,KAAK,CAACiC,KAAK,CAAC,oDAAoD,CAAC;IACnE,CAAC,MAAM;MACLjC,KAAK,CAACiC,KAAK,CAAC,sDAAsD,CAAC;IACrE;EACF,CAAC,MAAM;IACL;IACAjC,KAAK,CAACiC,KAAK,CAAC,8BAA8B,CAAC;EAC7C;EAEA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA,OAAO,MAAM4B,UAAU,GAAG;EACxB;EACAC,YAAY,EAAG5C,KAAK,IAAK;IACvB,IAAIA,KAAK,EAAE;MACTd,GAAG,CAACM,QAAQ,CAACH,OAAO,CAACyC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAU9B,KAAK,EAAE;MAChEC,YAAY,CAAC4C,OAAO,CAAC,OAAO,EAAE7C,KAAK,CAAC;IACtC,CAAC,MAAM;MACL,OAAOd,GAAG,CAACM,QAAQ,CAACH,OAAO,CAACyC,MAAM,CAAC,eAAe,CAAC;MACnD7B,YAAY,CAAC4B,UAAU,CAAC,OAAO,CAAC;IAClC;EACF,CAAC;EAED;EACAiB,eAAe,EAAEA,CAAA,KAAM;IACrB,OAAO5D,GAAG,CAACM,QAAQ,CAACH,OAAO,CAACyC,MAAM,CAAC,eAAe,CAAC;IACnD7B,YAAY,CAAC4B,UAAU,CAAC,OAAO,CAAC;EAClC,CAAC;EAED;EACAkB,UAAU,EAAEA,CAACxD,GAAG,EAAEyD,IAAI,EAAEC,UAAU,KAAK;IACrC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;IAE7B,OAAO9D,GAAG,CAACmE,IAAI,CAAC9D,GAAG,EAAE2D,QAAQ,EAAE;MAC7B7D,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDiE,gBAAgB,EAAGC,aAAa,IAAK;QACnC,IAAIN,UAAU,EAAE;UACd,MAAMO,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAChCH,aAAa,CAACI,MAAM,GAAG,GAAG,GAAIJ,aAAa,CAACK,KAC/C,CAAC;UACDX,UAAU,CAACO,gBAAgB,CAAC;QAC9B;MACF;IACF,CAAC,CAAC;EACJ,CAAC;EAED;EACAK,YAAY,EAAE,MAAAA,CAAOtE,GAAG,EAAEuE,QAAQ,KAAK;IACrC,IAAI;MACF,MAAM5C,QAAQ,GAAG,MAAMhC,GAAG,CAAC6E,GAAG,CAACxE,GAAG,EAAE;QAClCyE,YAAY,EAAE;MAChB,CAAC,CAAC;;MAEF;MACA,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAChD,QAAQ,CAACL,IAAI,CAAC,CAAC;MACtC,MAAMsD,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAAC/B,IAAI,GAAGL,MAAM,CAACuC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC;MAC5CE,IAAI,CAACK,QAAQ,GAAGV,QAAQ,IAAI,UAAU;;MAEtC;MACAM,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;MAC/BA,IAAI,CAACQ,KAAK,CAAC,CAAC;MACZP,QAAQ,CAACK,IAAI,CAACG,WAAW,CAACT,IAAI,CAAC;;MAE/B;MACApC,MAAM,CAACuC,GAAG,CAACO,eAAe,CAACV,IAAI,CAAC/B,IAAI,CAAC;MAErC,OAAO;QAAE0C,OAAO,EAAE;MAAK,CAAC;IAC1B,CAAC,CAAC,OAAO/D,KAAK,EAAE;MACdrB,OAAO,CAACqB,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvCjC,KAAK,CAACiC,KAAK,CAAC,qBAAqB,CAAC;MAClC,OAAO;QAAE+D,OAAO,EAAE,KAAK;QAAE/D;MAAM,CAAC;IAClC;EACF,CAAC;EAED;EACAgE,YAAY,EAAEA,CAACC,eAAe,EAAEC,UAAU,GAAG,CAAC,EAAEC,KAAK,GAAG,IAAI,KAAK;IAC/D,OAAO,IAAIlE,OAAO,CAAC,CAACmE,OAAO,EAAElE,MAAM,KAAK;MACtC,IAAImE,OAAO,GAAG,CAAC;MAEf,MAAMC,cAAc,GAAGA,CAAA,KAAM;QAC3BnG,GAAG,CAAC8F,eAAe,CAAC,CACjB1F,IAAI,CAAC6F,OAAO,CAAC,CACbG,KAAK,CAAEvE,KAAK,IAAK;UAAA,IAAAwE,gBAAA;UAChBH,OAAO,EAAE;UACT,IAAIA,OAAO,GAAGH,UAAU,IAAI,EAAAM,gBAAA,GAAAxE,KAAK,CAACG,QAAQ,cAAAqE,gBAAA,uBAAdA,gBAAA,CAAgB3D,MAAM,KAAI,GAAG,EAAE;YACzDO,UAAU,CAACkD,cAAc,EAAEH,KAAK,GAAGE,OAAO,CAAC;UAC7C,CAAC,MAAM;YACLnE,MAAM,CAACF,KAAK,CAAC;UACf;QACF,CAAC,CAAC;MACN,CAAC;MAEDsE,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC;EACJ,CAAC;EAED;EACAG,WAAW,EAAGzE,KAAK,IAAK;IAAA,IAAA0E,gBAAA;IACtB,OACE,EAAAA,gBAAA,GAAA1E,KAAK,CAACG,QAAQ,cAAAuE,gBAAA,uBAAdA,gBAAA,CAAgB7D,MAAM,KAAI,GAAG,IAC7Bb,KAAK,CAAC2B,IAAI,KAAK,cAAc,IAC7B3B,KAAK,CAAC2B,IAAI,KAAK,eAAe;EAElC,CAAC;EAED;EACAgD,WAAW,EAAG3E,KAAK,IAAK;IAAA,IAAA4E,gBAAA,EAAAC,qBAAA;IACtB,KAAAD,gBAAA,GAAI5E,KAAK,CAACG,QAAQ,cAAAyE,gBAAA,gBAAAC,qBAAA,GAAdD,gBAAA,CAAgB9E,IAAI,cAAA+E,qBAAA,eAApBA,qBAAA,CAAsBjE,OAAO,EAAE;MACjC,OAAOZ,KAAK,CAACG,QAAQ,CAACL,IAAI,CAACc,OAAO;IACpC;IACA,IAAIZ,KAAK,CAACY,OAAO,EAAE;MACjB,OAAOZ,KAAK,CAACY,OAAO;IACtB;IACA,OAAO,4BAA4B;EACrC,CAAC;EAED;EACAkE,eAAe,EAAE,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACF,MAAM3G,GAAG,CAAC6E,GAAG,CAAC,SAAS,EAAE;QAAE3E,OAAO,EAAE;MAAK,CAAC,CAAC;MAC3C,OAAO,IAAI;IACb,CAAC,CAAC,OAAO2B,KAAK,EAAE;MACd,OAAO,KAAK;IACd;EACF;AACF,CAAC;;AAED;AACA,OAAO,MAAM;EAAE6B,YAAY;EAAEE;AAAgB,CAAC,GAAGH,UAAU;;AAE3D;AACA,eAAezD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}