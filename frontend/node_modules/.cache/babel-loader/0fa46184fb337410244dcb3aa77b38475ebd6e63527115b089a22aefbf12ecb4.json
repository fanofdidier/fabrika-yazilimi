{"ast":null,"code":"var _jsxFileName = \"/Users/hakankarahan/Desktop/fabrikayazilimi/frontend/src/components/Layout/Layout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useSocket } from '../../contexts/SocketContext';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport { usePopupNotification } from '../../contexts/PopupNotificationContext';\nimport Sidebar from './Sidebar';\nimport Header from './Header';\nimport NotificationPanel from './NotificationPanel';\nimport LoadingSpinner from '../UI/LoadingSpinner';\nimport PopupNotificationContainer from '../UI/PopupNotificationContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Layout = () => {\n  _s();\n  const {\n    user,\n    loading\n  } = useAuth();\n  const {\n    connected,\n    socket\n  } = useSocket();\n  const {\n    unreadCount\n  } = useNotification();\n  const {\n    showNotification\n  } = usePopupNotification();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [notificationPanelOpen, setNotificationPanelOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Check if mobile view\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n      if (window.innerWidth >= 768) {\n        setSidebarOpen(false);\n      }\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Socket.io event listeners for popup notifications (only for factory workers)\n  useEffect(() => {\n    console.log('🔧 Popup listener setup:', {\n      socket: !!socket,\n      user: !!user,\n      userRole: user === null || user === void 0 ? void 0 : user.role,\n      isFactoryWorker: (user === null || user === void 0 ? void 0 : user.role) === 'fabrika_iscisi'\n    });\n    if (socket && user && user.role === 'fabrika_iscisi') {\n      console.log('✅ Setting up popup listeners for factory worker');\n      const handleNewNotification = notification => {\n        console.log('🔔 Popup notification received:', notification);\n        console.log('🎯 Calling showNotification with:', {\n          type: notification.type,\n          title: notification.title,\n          message: notification.message,\n          orderId: notification.orderId,\n          timestamp: notification.timestamp\n        });\n\n        // Pop-up bildirimi göster\n        showNotification({\n          type: notification.type,\n          title: notification.title,\n          message: notification.message,\n          orderId: notification.orderId,\n          timestamp: notification.timestamp\n        });\n      };\n      const handleOrderUpdated = data => {\n        console.log('📦 Order updated for popup:', data);\n\n        // Eğer orderUpdated event'inde timelineEntry varsa pop-up göster\n        if (data.timelineEntry) {\n          console.log('📝 Showing popup for timeline entry:', data.timelineEntry);\n          console.log('🎯 Calling showNotification with timeline data:', {\n            type: 'siparis_cevabi',\n            title: 'Sipariş Cevabı',\n            message: data.timelineEntry.description,\n            orderId: data.orderId,\n            timelineEntry: data.timelineEntry,\n            timestamp: data.timelineEntry.timestamp\n          });\n          showNotification({\n            type: 'siparis_cevabi',\n            title: 'Sipariş Cevabı',\n            message: data.timelineEntry.description,\n            orderId: data.orderId,\n            timelineEntry: data.timelineEntry,\n            timestamp: data.timelineEntry.timestamp\n          });\n        }\n      };\n      socket.on('newNotification', handleNewNotification);\n      socket.on('orderUpdated', handleOrderUpdated);\n      return () => {\n        console.log('🧹 Cleaning up popup listeners');\n        socket.off('newNotification', handleNewNotification);\n        socket.off('orderUpdated', handleOrderUpdated);\n      };\n    } else {\n      console.log('❌ Popup listeners not set up:', {\n        socket: !!socket,\n        user: !!user,\n        role: user === null || user === void 0 ? void 0 : user.role\n      });\n    }\n  }, [socket, user, showNotification]);\n\n  // Close sidebar when clicking outside on mobile\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (isMobile && sidebarOpen) {\n        const sidebar = document.getElementById('sidebar');\n        const sidebarToggle = document.getElementById('sidebar-toggle');\n        if (sidebar && !sidebar.contains(event.target) && sidebarToggle && !sidebarToggle.contains(event.target)) {\n          setSidebarOpen(false);\n        }\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isMobile, sidebarOpen]);\n\n  // Close notification panel when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (notificationPanelOpen) {\n        const panel = document.getElementById('notification-panel');\n        const toggle = document.getElementById('notification-toggle');\n        if (panel && !panel.contains(event.target) && toggle && !toggle.contains(event.target)) {\n          setNotificationPanelOpen(false);\n        }\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [notificationPanelOpen]);\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = event => {\n      if (event.key === 'Escape') {\n        if (notificationPanelOpen) {\n          setNotificationPanelOpen(false);\n        } else if (sidebarOpen && isMobile) {\n          setSidebarOpen(false);\n        }\n      }\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [notificationPanelOpen, sidebarOpen, isMobile]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n          size: \"lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-sm text-gray-600\",\n          children: \"Uygulama y\\xFCkleniyor...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto h-12 w-12 text-red-500 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"Kullan\\u0131c\\u0131 Bilgileri Y\\xFCklenemedi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mb-4\",\n          children: \"L\\xFCtfen sayfay\\u0131 yenileyin veya tekrar giri\\u015F yap\\u0131n.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n          children: \"Sayfay\\u0131 Yenile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: sidebarOpen,\n      onClose: () => setSidebarOpen(false),\n      isMobile: isMobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), isMobile && sidebarOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden\",\n      onClick: () => setSidebarOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        onSidebarToggle: () => setSidebarOpen(!sidebarOpen),\n        onNotificationToggle: () => setNotificationPanelOpen(!notificationPanelOpen),\n        notificationCount: unreadCount,\n        isConnected: connected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n          children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NotificationPanel, {\n      isOpen: notificationPanelOpen,\n      onClose: () => setNotificationPanelOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), user && user.role === 'fabrika_iscisi' && /*#__PURE__*/_jsxDEV(PopupNotificationContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }, this), !connected && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-4 left-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-2 h-2 bg-white rounded-full animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: \"Ba\\u011Flant\\u0131 kesildi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"region\",\n        \"aria-label\": \"Klavye k\\u0131sayollar\\u0131\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"ESC: Panelleri kapat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Alt + S: Kenar \\xE7ubu\\u011Funu a\\xE7/kapat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Alt + N: Bildirim panelini a\\xE7/kapat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(Layout, \"0EYb6qlfo5/0E0BMQr/coYnvhAg=\", false, function () {\n  return [useAuth, useSocket, useNotification, usePopupNotification];\n});\n_c = Layout;\nexport default Layout;\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["React","useState","useEffect","Outlet","useAuth","useSocket","useNotification","usePopupNotification","Sidebar","Header","NotificationPanel","LoadingSpinner","PopupNotificationContainer","jsxDEV","_jsxDEV","Layout","_s","user","loading","connected","socket","unreadCount","showNotification","sidebarOpen","setSidebarOpen","notificationPanelOpen","setNotificationPanelOpen","isMobile","setIsMobile","checkMobile","window","innerWidth","addEventListener","removeEventListener","console","log","userRole","role","isFactoryWorker","handleNewNotification","notification","type","title","message","orderId","timestamp","handleOrderUpdated","data","timelineEntry","description","on","off","handleClickOutside","event","sidebar","document","getElementById","sidebarToggle","contains","target","panel","toggle","handleEscape","key","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","location","reload","isOpen","onClose","onSidebarToggle","onNotificationToggle","notificationCount","isConnected","_c","$RefreshReg$"],"sources":["/Users/hakankarahan/Desktop/fabrikayazilimi/frontend/src/components/Layout/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useSocket } from '../../contexts/SocketContext';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport { usePopupNotification } from '../../contexts/PopupNotificationContext';\nimport Sidebar from './Sidebar';\nimport Header from './Header';\nimport NotificationPanel from './NotificationPanel';\nimport LoadingSpinner from '../UI/LoadingSpinner';\nimport PopupNotificationContainer from '../UI/PopupNotificationContainer';\n\nconst Layout = () => {\n  const { user, loading } = useAuth();\n  const { connected, socket } = useSocket();\n  const { unreadCount } = useNotification();\n  const { showNotification } = usePopupNotification();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [notificationPanelOpen, setNotificationPanelOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Check if mobile view\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n      if (window.innerWidth >= 768) {\n        setSidebarOpen(false);\n      }\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Socket.io event listeners for popup notifications (only for factory workers)\n  useEffect(() => {\n    console.log('🔧 Popup listener setup:', { \n      socket: !!socket, \n      user: !!user, \n      userRole: user?.role,\n      isFactoryWorker: user?.role === 'fabrika_iscisi'\n    });\n    \n    if (socket && user && user.role === 'fabrika_iscisi') {\n      console.log('✅ Setting up popup listeners for factory worker');\n      \n      const handleNewNotification = (notification) => {\n        console.log('🔔 Popup notification received:', notification);\n        console.log('🎯 Calling showNotification with:', {\n          type: notification.type,\n          title: notification.title,\n          message: notification.message,\n          orderId: notification.orderId,\n          timestamp: notification.timestamp\n        });\n        \n        // Pop-up bildirimi göster\n        showNotification({\n          type: notification.type,\n          title: notification.title,\n          message: notification.message,\n          orderId: notification.orderId,\n          timestamp: notification.timestamp\n        });\n      };\n\n      const handleOrderUpdated = (data) => {\n        console.log('📦 Order updated for popup:', data);\n        \n        // Eğer orderUpdated event'inde timelineEntry varsa pop-up göster\n        if (data.timelineEntry) {\n          console.log('📝 Showing popup for timeline entry:', data.timelineEntry);\n          console.log('🎯 Calling showNotification with timeline data:', {\n            type: 'siparis_cevabi',\n            title: 'Sipariş Cevabı',\n            message: data.timelineEntry.description,\n            orderId: data.orderId,\n            timelineEntry: data.timelineEntry,\n            timestamp: data.timelineEntry.timestamp\n          });\n          \n          showNotification({\n            type: 'siparis_cevabi',\n            title: 'Sipariş Cevabı',\n            message: data.timelineEntry.description,\n            orderId: data.orderId,\n            timelineEntry: data.timelineEntry,\n            timestamp: data.timelineEntry.timestamp\n          });\n        }\n      };\n\n      socket.on('newNotification', handleNewNotification);\n      socket.on('orderUpdated', handleOrderUpdated);\n\n      return () => {\n        console.log('🧹 Cleaning up popup listeners');\n        socket.off('newNotification', handleNewNotification);\n        socket.off('orderUpdated', handleOrderUpdated);\n      };\n    } else {\n      console.log('❌ Popup listeners not set up:', {\n        socket: !!socket,\n        user: !!user,\n        role: user?.role\n      });\n    }\n  }, [socket, user, showNotification]);\n\n  // Close sidebar when clicking outside on mobile\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (isMobile && sidebarOpen) {\n        const sidebar = document.getElementById('sidebar');\n        const sidebarToggle = document.getElementById('sidebar-toggle');\n        \n        if (sidebar && !sidebar.contains(event.target) && \n            sidebarToggle && !sidebarToggle.contains(event.target)) {\n          setSidebarOpen(false);\n        }\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isMobile, sidebarOpen]);\n\n  // Close notification panel when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (notificationPanelOpen) {\n        const panel = document.getElementById('notification-panel');\n        const toggle = document.getElementById('notification-toggle');\n        \n        if (panel && !panel.contains(event.target) && \n            toggle && !toggle.contains(event.target)) {\n          setNotificationPanelOpen(false);\n        }\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [notificationPanelOpen]);\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (event) => {\n      if (event.key === 'Escape') {\n        if (notificationPanelOpen) {\n          setNotificationPanelOpen(false);\n        } else if (sidebarOpen && isMobile) {\n          setSidebarOpen(false);\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [notificationPanelOpen, sidebarOpen, isMobile]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <LoadingSpinner size=\"lg\" />\n          <p className=\"mt-4 text-sm text-gray-600\">Uygulama yükleniyor...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto h-12 w-12 text-red-500 mb-4\">\n            <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Kullanıcı Bilgileri Yüklenemedi\n          </h2>\n          <p className=\"text-sm text-gray-600 mb-4\">\n            Lütfen sayfayı yenileyin veya tekrar giriş yapın.\n          </p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n          >\n            Sayfayı Yenile\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Sidebar */}\n      <Sidebar \n        isOpen={sidebarOpen} \n        onClose={() => setSidebarOpen(false)}\n        isMobile={isMobile}\n      />\n\n      {/* Mobile sidebar overlay */}\n      {isMobile && sidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Main content */}\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        {/* Header */}\n        <Header \n          onSidebarToggle={() => setSidebarOpen(!sidebarOpen)}\n          onNotificationToggle={() => setNotificationPanelOpen(!notificationPanelOpen)}\n          notificationCount={unreadCount}\n          isConnected={connected}\n        />\n\n        {/* Page content */}\n        <main className=\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50\">\n          <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n\n      {/* Notification Panel */}\n      <NotificationPanel \n        isOpen={notificationPanelOpen}\n        onClose={() => setNotificationPanelOpen(false)}\n      />\n\n      {/* Popup Notifications - Only for factory workers */}\n      {user && user.role === 'fabrika_iscisi' && (\n        <PopupNotificationContainer />\n      )}\n\n      {/* Connection status indicator */}\n      {!connected && (\n        <div className=\"fixed bottom-4 left-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-2 h-2 bg-white rounded-full animate-pulse\"></div>\n            <span className=\"text-sm font-medium\">Bağlantı kesildi</span>\n          </div>\n        </div>\n      )}\n\n      {/* Keyboard shortcuts help */}\n      <div className=\"hidden\">\n        {/* This is for screen readers and accessibility */}\n        <div role=\"region\" aria-label=\"Klavye kısayolları\">\n          <p>ESC: Panelleri kapat</p>\n          <p>Alt + S: Kenar çubuğunu aç/kapat</p>\n          <p>Alt + N: Bildirim panelini aç/kapat</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}