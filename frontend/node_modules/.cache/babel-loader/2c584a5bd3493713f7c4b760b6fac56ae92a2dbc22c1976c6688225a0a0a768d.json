{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Outlet}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{useSocket}from'../../contexts/SocketContext';import{useNotification}from'../../contexts/NotificationContext';import{usePopupNotification}from'../../contexts/PopupNotificationContext';import Sidebar from'./Sidebar';import Header from'./Header';import NotificationPanel from'./NotificationPanel';import LoadingSpinner from'../UI/LoadingSpinner';import PopupNotificationContainer from'../UI/PopupNotificationContainer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=()=>{const{user,loading}=useAuth();const{connected,socket}=useSocket();const{unreadCount}=useNotification();const{showNotification}=usePopupNotification();const[sidebarOpen,setSidebarOpen]=useState(false);const[notificationPanelOpen,setNotificationPanelOpen]=useState(false);const[isMobile,setIsMobile]=useState(false);// Check if mobile view\nuseEffect(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<768);if(window.innerWidth>=768){setSidebarOpen(false);}};checkMobile();window.addEventListener('resize',checkMobile);return()=>window.removeEventListener('resize',checkMobile);},[]);// Socket.io event listeners for popup notifications (only for factory workers)\nuseEffect(()=>{console.log('🔧 Popup listener setup:',{socket:!!socket,user:!!user,userRole:user===null||user===void 0?void 0:user.role,isFactoryWorker:(user===null||user===void 0?void 0:user.role)==='fabrika_iscisi'});if(socket&&user&&user.role==='fabrika_iscisi'){console.log('✅ Setting up popup listeners for factory worker');const handleNewNotification=notification=>{console.log('🔔 Popup notification received:',notification);console.log('🎯 Calling showNotification with:',{type:notification.type,title:notification.title,message:notification.message,orderId:notification.orderId,timestamp:notification.timestamp});// Pop-up bildirimi göster\nshowNotification({type:notification.type,title:notification.title,message:notification.message,orderId:notification.orderId,timestamp:notification.timestamp});};const handleOrderUpdated=data=>{console.log('📦 Order updated for popup:',data);// Eğer orderUpdated event'inde timelineEntry varsa pop-up göster\nif(data.timelineEntry){console.log('📝 Showing popup for timeline entry:',data.timelineEntry);console.log('🎯 Calling showNotification with timeline data:',{type:'siparis_cevabi',title:'Sipariş Cevabı',message:data.timelineEntry.description,orderId:data.orderId,timelineEntry:data.timelineEntry,timestamp:data.timelineEntry.timestamp});showNotification({type:'siparis_cevabi',title:'Sipariş Cevabı',message:data.timelineEntry.description,orderId:data.orderId,timelineEntry:data.timelineEntry,timestamp:data.timelineEntry.timestamp});}};socket.on('newNotification',handleNewNotification);socket.on('orderUpdated',handleOrderUpdated);return()=>{console.log('🧹 Cleaning up popup listeners');socket.off('newNotification',handleNewNotification);socket.off('orderUpdated',handleOrderUpdated);};}else{console.log('❌ Popup listeners not set up:',{socket:!!socket,user:!!user,role:user===null||user===void 0?void 0:user.role});}},[socket,user,showNotification]);// Close sidebar when clicking outside on mobile\nuseEffect(()=>{const handleClickOutside=event=>{if(isMobile&&sidebarOpen){const sidebar=document.getElementById('sidebar');const sidebarToggle=document.getElementById('sidebar-toggle');if(sidebar&&!sidebar.contains(event.target)&&sidebarToggle&&!sidebarToggle.contains(event.target)){setSidebarOpen(false);}}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[isMobile,sidebarOpen]);// Close notification panel when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(notificationPanelOpen){const panel=document.getElementById('notification-panel');const toggle=document.getElementById('notification-toggle');if(panel&&!panel.contains(event.target)&&toggle&&!toggle.contains(event.target)){setNotificationPanelOpen(false);}}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[notificationPanelOpen]);// Handle escape key\nuseEffect(()=>{const handleEscape=event=>{if(event.key==='Escape'){if(notificationPanelOpen){setNotificationPanelOpen(false);}else if(sidebarOpen&&isMobile){setSidebarOpen(false);}}};document.addEventListener('keydown',handleEscape);return()=>document.removeEventListener('keydown',handleEscape);},[notificationPanelOpen,sidebarOpen,isMobile]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-sm text-gray-600\",children:\"Uygulama y\\xFCkleniyor...\"})]})});}if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-12 w-12 text-red-500 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Kullan\\u0131c\\u0131 Bilgileri Y\\xFCklenemedi\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"L\\xFCtfen sayfay\\u0131 yenileyin veya tekrar giri\\u015F yap\\u0131n.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Sayfay\\u0131 Yenile\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,onClose:()=>setSidebarOpen(false),isMobile:isMobile}),isMobile&&sidebarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden\",onClick:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col overflow-hidden\",children:[/*#__PURE__*/_jsx(Header,{onSidebarToggle:()=>setSidebarOpen(!sidebarOpen),onNotificationToggle:()=>setNotificationPanelOpen(!notificationPanelOpen),notificationCount:unreadCount,isConnected:connected}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:/*#__PURE__*/_jsx(Outlet,{})})})]}),/*#__PURE__*/_jsx(NotificationPanel,{isOpen:notificationPanelOpen,onClose:()=>setNotificationPanelOpen(false)}),user&&user.role==='fabrika_iscisi'&&/*#__PURE__*/_jsx(PopupNotificationContainer,{}),!connected&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-4 left-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-white rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Ba\\u011Flant\\u0131 kesildi\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden\",children:/*#__PURE__*/_jsxs(\"div\",{role:\"region\",\"aria-label\":\"Klavye k\\u0131sayollar\\u0131\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"ESC: Panelleri kapat\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Alt + S: Kenar \\xE7ubu\\u011Funu a\\xE7/kapat\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Alt + N: Bildirim panelini a\\xE7/kapat\"})]})})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","Outlet","useAuth","useSocket","useNotification","usePopupNotification","Sidebar","Header","NotificationPanel","LoadingSpinner","PopupNotificationContainer","jsx","_jsx","jsxs","_jsxs","Layout","user","loading","connected","socket","unreadCount","showNotification","sidebarOpen","setSidebarOpen","notificationPanelOpen","setNotificationPanelOpen","isMobile","setIsMobile","checkMobile","window","innerWidth","addEventListener","removeEventListener","console","log","userRole","role","isFactoryWorker","handleNewNotification","notification","type","title","message","orderId","timestamp","handleOrderUpdated","data","timelineEntry","description","on","off","handleClickOutside","event","sidebar","document","getElementById","sidebarToggle","contains","target","panel","toggle","handleEscape","key","className","children","size","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","location","reload","isOpen","onClose","onSidebarToggle","onNotificationToggle","notificationCount","isConnected"],"sources":["/Users/hakankarahan/Desktop/fabrikayazilimi/frontend/src/components/Layout/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useSocket } from '../../contexts/SocketContext';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport { usePopupNotification } from '../../contexts/PopupNotificationContext';\nimport Sidebar from './Sidebar';\nimport Header from './Header';\nimport NotificationPanel from './NotificationPanel';\nimport LoadingSpinner from '../UI/LoadingSpinner';\nimport PopupNotificationContainer from '../UI/PopupNotificationContainer';\n\nconst Layout = () => {\n  const { user, loading } = useAuth();\n  const { connected, socket } = useSocket();\n  const { unreadCount } = useNotification();\n  const { showNotification } = usePopupNotification();\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [notificationPanelOpen, setNotificationPanelOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Check if mobile view\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n      if (window.innerWidth >= 768) {\n        setSidebarOpen(false);\n      }\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Socket.io event listeners for popup notifications (only for factory workers)\n  useEffect(() => {\n    console.log('🔧 Popup listener setup:', { \n      socket: !!socket, \n      user: !!user, \n      userRole: user?.role,\n      isFactoryWorker: user?.role === 'fabrika_iscisi'\n    });\n    \n    if (socket && user && user.role === 'fabrika_iscisi') {\n      console.log('✅ Setting up popup listeners for factory worker');\n      \n      const handleNewNotification = (notification) => {\n        console.log('🔔 Popup notification received:', notification);\n        console.log('🎯 Calling showNotification with:', {\n          type: notification.type,\n          title: notification.title,\n          message: notification.message,\n          orderId: notification.orderId,\n          timestamp: notification.timestamp\n        });\n        \n        // Pop-up bildirimi göster\n        showNotification({\n          type: notification.type,\n          title: notification.title,\n          message: notification.message,\n          orderId: notification.orderId,\n          timestamp: notification.timestamp\n        });\n      };\n\n      const handleOrderUpdated = (data) => {\n        console.log('📦 Order updated for popup:', data);\n        \n        // Eğer orderUpdated event'inde timelineEntry varsa pop-up göster\n        if (data.timelineEntry) {\n          console.log('📝 Showing popup for timeline entry:', data.timelineEntry);\n          console.log('🎯 Calling showNotification with timeline data:', {\n            type: 'siparis_cevabi',\n            title: 'Sipariş Cevabı',\n            message: data.timelineEntry.description,\n            orderId: data.orderId,\n            timelineEntry: data.timelineEntry,\n            timestamp: data.timelineEntry.timestamp\n          });\n          \n          showNotification({\n            type: 'siparis_cevabi',\n            title: 'Sipariş Cevabı',\n            message: data.timelineEntry.description,\n            orderId: data.orderId,\n            timelineEntry: data.timelineEntry,\n            timestamp: data.timelineEntry.timestamp\n          });\n        }\n      };\n\n      socket.on('newNotification', handleNewNotification);\n      socket.on('orderUpdated', handleOrderUpdated);\n\n      return () => {\n        console.log('🧹 Cleaning up popup listeners');\n        socket.off('newNotification', handleNewNotification);\n        socket.off('orderUpdated', handleOrderUpdated);\n      };\n    } else {\n      console.log('❌ Popup listeners not set up:', {\n        socket: !!socket,\n        user: !!user,\n        role: user?.role\n      });\n    }\n  }, [socket, user, showNotification]);\n\n  // Close sidebar when clicking outside on mobile\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (isMobile && sidebarOpen) {\n        const sidebar = document.getElementById('sidebar');\n        const sidebarToggle = document.getElementById('sidebar-toggle');\n        \n        if (sidebar && !sidebar.contains(event.target) && \n            sidebarToggle && !sidebarToggle.contains(event.target)) {\n          setSidebarOpen(false);\n        }\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isMobile, sidebarOpen]);\n\n  // Close notification panel when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (notificationPanelOpen) {\n        const panel = document.getElementById('notification-panel');\n        const toggle = document.getElementById('notification-toggle');\n        \n        if (panel && !panel.contains(event.target) && \n            toggle && !toggle.contains(event.target)) {\n          setNotificationPanelOpen(false);\n        }\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [notificationPanelOpen]);\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (event) => {\n      if (event.key === 'Escape') {\n        if (notificationPanelOpen) {\n          setNotificationPanelOpen(false);\n        } else if (sidebarOpen && isMobile) {\n          setSidebarOpen(false);\n        }\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [notificationPanelOpen, sidebarOpen, isMobile]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <LoadingSpinner size=\"lg\" />\n          <p className=\"mt-4 text-sm text-gray-600\">Uygulama yükleniyor...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto h-12 w-12 text-red-500 mb-4\">\n            <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Kullanıcı Bilgileri Yüklenemedi\n          </h2>\n          <p className=\"text-sm text-gray-600 mb-4\">\n            Lütfen sayfayı yenileyin veya tekrar giriş yapın.\n          </p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n          >\n            Sayfayı Yenile\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Sidebar */}\n      <Sidebar \n        isOpen={sidebarOpen} \n        onClose={() => setSidebarOpen(false)}\n        isMobile={isMobile}\n      />\n\n      {/* Mobile sidebar overlay */}\n      {isMobile && sidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Main content */}\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        {/* Header */}\n        <Header \n          onSidebarToggle={() => setSidebarOpen(!sidebarOpen)}\n          onNotificationToggle={() => setNotificationPanelOpen(!notificationPanelOpen)}\n          notificationCount={unreadCount}\n          isConnected={connected}\n        />\n\n        {/* Page content */}\n        <main className=\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50\">\n          <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n\n      {/* Notification Panel */}\n      <NotificationPanel \n        isOpen={notificationPanelOpen}\n        onClose={() => setNotificationPanelOpen(false)}\n      />\n\n      {/* Popup Notifications - Only for factory workers */}\n      {user && user.role === 'fabrika_iscisi' && (\n        <PopupNotificationContainer />\n      )}\n\n      {/* Connection status indicator */}\n      {!connected && (\n        <div className=\"fixed bottom-4 left-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-2 h-2 bg-white rounded-full animate-pulse\"></div>\n            <span className=\"text-sm font-medium\">Bağlantı kesildi</span>\n          </div>\n        </div>\n      )}\n\n      {/* Keyboard shortcuts help */}\n      <div className=\"hidden\">\n        {/* This is for screen readers and accessibility */}\n        <div role=\"region\" aria-label=\"Klavye kısayolları\">\n          <p>ESC: Panelleri kapat</p>\n          <p>Alt + S: Kenar çubuğunu aç/kapat</p>\n          <p>Alt + N: Bildirim panelini aç/kapat</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}