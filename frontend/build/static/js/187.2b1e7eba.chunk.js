"use strict";(self.webpackChunkfabrika_magaza_frontend=self.webpackChunkfabrika_magaza_frontend||[]).push([[187],{9187:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var l=s(2555),i=s(5043),n=s(7026),t=s(749),r=s(579);const d=()=>{const{user:e,updateProfile:a}=(0,n.As)(),[s,d]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!1),[m,p]=(0,i.useState)({type:"",text:""}),[x,u]=(0,i.useState)({firstName:(null===e||void 0===e?void 0:e.firstName)||"",lastName:(null===e||void 0===e?void 0:e.lastName)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",department:(null===e||void 0===e?void 0:e.department)||"",position:(null===e||void 0===e?void 0:e.position)||""}),[h,v]=(0,i.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),g=e=>{const{name:a,value:s}=e.target;u(e=>(0,l.A)((0,l.A)({},e),{},{[a]:s}))},f=e=>{const{name:a,value:s}=e.target;v(e=>(0,l.A)((0,l.A)({},e),{},{[a]:s}))};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profil Ayarlar\u0131"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Hesap bilgilerinizi y\xf6netin"})]}),m.text&&(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(t.Fc,{variant:m.type,onClose:()=>p({type:"",text:""}),children:m.text})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(t.Zp,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Ki\u015fisel Bilgiler"}),!s&&(0,r.jsx)(t.$n,{variant:"outline",size:"sm",onClick:()=>d(!0),children:"D\xfczenle"})]}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),p({type:"",text:""});try{await a(x),p({type:"success",text:"Profil ba\u015far\u0131yla g\xfcncellendi!"}),d(!1)}catch(s){p({type:"error",text:s.message||"Profil g\xfcncellenirken bir hata olu\u015ftu."})}finally{c(!1)}},children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(t.pd,{label:"Ad",name:"firstName",value:x.firstName,onChange:g,disabled:!s,required:!0}),(0,r.jsx)(t.pd,{label:"Soyad",name:"lastName",value:x.lastName,onChange:g,disabled:!s,required:!0})]}),(0,r.jsx)(t.pd,{label:"E-posta",name:"email",type:"email",value:x.email,onChange:g,disabled:!s,required:!0}),(0,r.jsx)(t.pd,{label:"Telefon",name:"phone",value:x.phone,onChange:g,disabled:!s}),(0,r.jsx)(t.pd,{label:"Departman",name:"department",value:x.department,onChange:g,disabled:!s}),(0,r.jsx)(t.pd,{label:"Pozisyon",name:"position",value:x.position,onChange:g,disabled:!s})]}),s&&(0,r.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,r.jsx)(t.$n,{type:"submit",loading:o,disabled:o,children:"Kaydet"}),(0,r.jsx)(t.$n,{type:"button",variant:"outline",onClick:()=>{u({firstName:(null===e||void 0===e?void 0:e.firstName)||"",lastName:(null===e||void 0===e?void 0:e.lastName)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:(null===e||void 0===e?void 0:e.phone)||"",department:(null===e||void 0===e?void 0:e.department)||"",position:(null===e||void 0===e?void 0:e.position)||""}),d(!1),p({type:"",text:""})},disabled:o,children:"\u0130ptal"})]})]})]}),(0,r.jsxs)(t.Zp,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"\u015eifre De\u011fi\u015ftir"}),(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c(!0),p({type:"",text:""}),h.newPassword!==h.confirmPassword)return p({type:"error",text:"Yeni \u015fifreler e\u015fle\u015fmiyor."}),void c(!1);if(h.newPassword.length<6)return p({type:"error",text:"Yeni \u015fifre en az 6 karakter olmal\u0131d\u0131r."}),void c(!1);try{p({type:"success",text:"\u015eifre ba\u015far\u0131yla g\xfcncellendi!"}),v({currentPassword:"",newPassword:"",confirmPassword:""})}catch(a){p({type:"error",text:a.message||"\u015eifre g\xfcncellenirken bir hata olu\u015ftu."})}finally{c(!1)}},children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(t.pd,{label:"Mevcut \u015eifre",name:"currentPassword",type:"password",value:h.currentPassword,onChange:f,required:!0}),(0,r.jsx)(t.pd,{label:"Yeni \u015eifre",name:"newPassword",type:"password",value:h.newPassword,onChange:f,required:!0,helperText:"En az 6 karakter olmal\u0131d\u0131r"}),(0,r.jsx)(t.pd,{label:"Yeni \u015eifre (Tekrar)",name:"confirmPassword",type:"password",value:h.confirmPassword,onChange:f,required:!0})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(t.$n,{type:"submit",loading:o,disabled:o||!h.currentPassword||!h.newPassword||!h.confirmPassword,children:"\u015eifreyi G\xfcncelle"})})]})]})]}),(0,r.jsxs)(t.Zp,{className:"p-6 mt-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hesap Bilgileri"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Kullan\u0131c\u0131 ID:"}),(0,r.jsx)("span",{className:"ml-2 font-mono",children:null===e||void 0===e?void 0:e.id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Rol:"}),(0,r.jsx)("span",{className:"ml-2 capitalize",children:null===e||void 0===e?void 0:e.role})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Kay\u0131t Tarihi:"}),(0,r.jsx)("span",{className:"ml-2",children:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString("tr-TR"):"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Son Giri\u015f:"}),(0,r.jsx)("span",{className:"ml-2",children:null!==e&&void 0!==e&&e.lastLogin?new Date(e.lastLogin).toLocaleDateString("tr-TR"):"-"})]})]})]})]})}}}]);
//# sourceMappingURL=187.2b1e7eba.chunk.js.map