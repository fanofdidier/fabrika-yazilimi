"use strict";(self.webpackChunkfabrika_magaza_frontend=self.webpackChunkfabrika_magaza_frontend||[]).push([[167],{4167:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var t=s(2555),l=s(5043),i=s(3216),r=s(5475),n=s(749),c=s(579);const d=()=>{const{id:e}=(0,i.g)(),[a,s]=((0,i.Zp)(),(0,l.useState)(null)),[d,m]=(0,l.useState)(!0),[o,x]=(0,l.useState)(!1),[p,u]=(0,l.useState)({}),[h,g]=(0,l.useState)(""),[y,j]=(0,l.useState)(""),v={id:parseInt(e),title:"Malzeme Haz\u0131rl\u0131\u011f\u0131",description:"ORD-2024-001 sipari\u015fi i\xe7in \xe7elik malzeme haz\u0131rl\u0131\u011f\u0131. Kalite standartlar\u0131na uygun malzeme se\xe7imi ve haz\u0131rl\u0131k i\u015flemleri.",assignee:"Ali \xc7elik",assigneeEmail:"ali.celik@fabrika.com",assigneePhone:"+90 532 123 4567",status:"in_progress",priority:"high",category:"material",createdDate:"2024-01-15T10:30:00Z",dueDate:"2024-01-18T17:00:00Z",completedDate:null,orderId:1,orderNumber:"ORD-2024-001",estimatedHours:4,actualHours:2.5,progress:60,createdBy:"Mehmet Y\xf6netici",requirements:["\xc7elik malzeme kalite sertifikas\u0131 kontrol\xfc","Boyut ve a\u011f\u0131rl\u0131k \xf6l\xe7\xfcmlerinin yap\u0131lmas\u0131","Depo alan\u0131nda uygun \u015fekilde yerle\u015ftirilmesi","\xdcretim tak\u0131m\u0131na bilgi verilmesi"],attachments:[{id:1,name:"malzeme_listesi.pdf",size:"245 KB",uploadDate:"2024-01-15T11:00:00Z",uploadedBy:"Mehmet Y\xf6netici"},{id:2,name:"kalite_sertifikasi.pdf",size:"1.2 MB",uploadDate:"2024-01-15T14:30:00Z",uploadedBy:"Ali \xc7elik"}],comments:[{id:1,author:"Ali \xc7elik",content:"Malzeme deposundan \xe7elik levhalar al\u0131nd\u0131. Kalite kontrol ba\u015flat\u0131ld\u0131.",timestamp:"2024-01-16T09:15:00Z"},{id:2,author:"Mehmet Y\xf6netici",content:"Harika! Kalite kontrol sonu\xe7lar\u0131n\u0131 bekliyoruz.",timestamp:"2024-01-16T10:30:00Z"}],timeline:[{id:1,action:"created",title:"G\xf6rev Olu\u015fturuldu",description:"G\xf6rev sisteme kaydedildi ve Ali \xc7elik'e atand\u0131",timestamp:"2024-01-15T10:30:00Z",user:"Mehmet Y\xf6netici"},{id:2,action:"started",title:"G\xf6reve Ba\u015fland\u0131",description:"Ali \xc7elik g\xf6reve ba\u015flad\u0131",timestamp:"2024-01-16T08:00:00Z",user:"Ali \xc7elik"},{id:3,action:"progress_update",title:"\u0130lerleme G\xfcncellendi",description:"\u0130lerleme %60 olarak g\xfcncellendi",timestamp:"2024-01-16T14:00:00Z",user:"Ali \xc7elik"}],subtasks:[{id:1,title:"Malzeme listesi kontrol\xfc",completed:!0,completedDate:"2024-01-16T09:00:00Z"},{id:2,title:"Kalite sertifikas\u0131 incelemesi",completed:!0,completedDate:"2024-01-16T11:30:00Z"},{id:3,title:"Boyut \xf6l\xe7\xfcmlerinin yap\u0131lmas\u0131",completed:!1,completedDate:null},{id:4,title:"Depo yerle\u015fimi",completed:!1,completedDate:null}]};(0,l.useEffect)(()=>{(async()=>{m(!0);try{await new Promise(e=>setTimeout(e,1e3)),s(v),u(v),g(v.progress.toString())}catch(e){console.error("Task loading error:",e)}finally{m(!1)}})()},[e]);const N=e=>new Date(e).toLocaleDateString("tr-TR"),b=e=>new Date(e).toLocaleString("tr-TR"),k=async e=>{try{const l=(0,t.A)((0,t.A)({},a),{},{status:e});"completed"===e&&(l.completedDate=(new Date).toISOString(),l.progress=100),s(l);const i={id:a.timeline.length+1,action:e,title:"Durum ".concat(e," olarak g\xfcncellendi"),description:"G\xf6rev durumu ".concat(e," olarak de\u011fi\u015ftirildi"),timestamp:(new Date).toISOString(),user:"Mevcut Kullan\u0131c\u0131"};l.timeline.push(i),s(l)}catch(l){console.error("Status update error:",l)}};return d?(0,c.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,c.jsx)(n.kt,{size:"lg",text:"G\xf6rev detaylar\u0131 y\xfckleniyor..."})}):a?(0,c.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:a.title}),(e=>{const a={pending:{variant:"warning",text:"Beklemede"},in_progress:{variant:"primary",text:"\u0130\u015flemde"},completed:{variant:"success",text:"Tamamland\u0131"},overdue:{variant:"danger",text:"Gecikmi\u015f"},cancelled:{variant:"secondary",text:"\u0130ptal Edildi"}}[e]||{variant:"secondary",text:e};return(0,c.jsx)(n.Ex,{variant:a.variant,children:a.text})})((f=a.dueDate,D=a.status,"completed"!==D&&new Date(f)<new Date?"overdue":a.status)),(e=>{const a={high:{variant:"danger",text:"Y\xfcksek"},medium:{variant:"warning",text:"Orta"},low:{variant:"success",text:"D\xfc\u015f\xfck"}}[e]||{variant:"secondary",text:e};return(0,c.jsx)(n.Ex,{variant:a.variant,children:a.text})})(a.priority),(e=>{const a={material:{variant:"primary",text:"Malzeme",icon:"\ud83d\udce6"},quality:{variant:"success",text:"Kalite",icon:"\u2705"},planning:{variant:"warning",text:"Planlama",icon:"\ud83d\udccb"},maintenance:{variant:"secondary",text:"Bak\u0131m",icon:"\ud83d\udd27"},shipping:{variant:"primary",text:"Sevkiyat",icon:"\ud83d\ude9a"},production:{variant:"primary",text:"\xdcretim",icon:"\u2699\ufe0f"}}[e]||{variant:"secondary",text:e,icon:"\ud83d\udcdd"};return(0,c.jsxs)(n.Ex,{variant:a.variant,children:[a.icon," ",a.text]})})(a.category)]}),(0,c.jsxs)("p",{className:"text-gray-600",children:["Olu\u015fturulma: ",N(a.createdDate)," | Biti\u015f: ",N(a.dueDate)]}),a.orderNumber&&(0,c.jsxs)("p",{className:"text-blue-600",children:["\u0130lgili Sipari\u015f:",(0,c.jsx)(r.N_,{to:"/orders/".concat(a.orderId),className:"ml-1 hover:underline",children:a.orderNumber})]})]}),(0,c.jsxs)("div",{className:"flex space-x-3",children:[(0,c.jsx)(r.N_,{to:"/tasks",children:(0,c.jsx)(n.$n,{variant:"outline",children:"\u2190 Geri D\xf6n"})}),o?(0,c.jsxs)("div",{className:"flex space-x-2",children:[(0,c.jsx)(n.$n,{variant:"outline",onClick:()=>{x(!1),u(a)},children:"\u0130ptal"}),(0,c.jsx)(n.$n,{variant:"primary",onClick:async()=>{try{s(p),x(!1)}catch(e){console.error("Save error:",e)}},children:"Kaydet"})]}):(0,c.jsx)(n.$n,{variant:"primary",onClick:()=>x(!0),children:"D\xfczenle"})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,c.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"G\xf6rev Bilgileri"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xe7\u0131klama"}),o?(0,c.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,value:p.description,onChange:e=>u((0,t.A)((0,t.A)({},p),{},{description:e.target.value}))}):(0,c.jsx)("p",{className:"text-gray-900",children:a.description})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tahmini S\xfcre"}),(0,c.jsxs)("p",{className:"text-gray-900",children:[a.estimatedHours," saat"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ger\xe7ekle\u015fen S\xfcre"}),(0,c.jsxs)("p",{className:"text-gray-900",children:[a.actualHours||0," saat"]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Olu\u015fturan"}),(0,c.jsx)("p",{className:"text-gray-900",children:a.createdBy})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0130lerleme"}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:(0,c.jsx)("div",{className:"h-3 rounded-full ".concat(100===a.progress?"bg-green-500":a.progress>50?"bg-blue-500":a.progress>0?"bg-yellow-500":"bg-gray-300"),style:{width:"".concat(a.progress,"%")}})}),(0,c.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[a.progress,"%"]})]})]})]})]})]}),(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Gereksinimler"}),(0,c.jsx)("ul",{className:"space-y-2",children:a.requirements.map((e,a)=>(0,c.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,c.jsx)("span",{className:"text-blue-500 mt-1",children:"\u2022"}),(0,c.jsx)("span",{className:"text-gray-900",children:e})]},a))})]}),(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Alt G\xf6revler"}),(0,c.jsx)("div",{className:"space-y-3",children:a.subtasks.map(e=>(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[(0,c.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>(e=>{const l=(0,t.A)((0,t.A)({},a),{},{subtasks:a.subtasks.map(a=>a.id===e?(0,t.A)((0,t.A)({},a),{},{completed:!a.completed,completedDate:a.completed?null:(new Date).toISOString()}):a)}),i=l.subtasks.filter(e=>e.completed).length,r=l.subtasks.length,n=Math.round(i/r*100);l.progress=n,s(l)})(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("span",{className:"".concat(e.completed?"line-through text-gray-500":"text-gray-900"),children:e.title}),e.completed&&e.completedDate&&(0,c.jsxs)("div",{className:"text-sm text-green-600",children:["Tamamland\u0131: ",b(e.completedDate)]})]})]},e.id))})]}),(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Ekler"}),(0,c.jsxs)("div",{className:"space-y-3",children:[a.attachments.map(e=>(0,c.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc4"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,c.jsxs)("p",{className:"text-sm text-gray-500",children:[e.size," \u2022 ",e.uploadedBy," \u2022 ",N(e.uploadDate)]})]})]}),(0,c.jsx)(n.$n,{size:"sm",variant:"outline",children:"\u0130ndir"})]},e.id)),(0,c.jsx)(n.$n,{variant:"outline",className:"w-full",children:"+ Dosya Ekle"})]})]})]}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Atanan Ki\u015fi"}),(0,c.jsx)("div",{className:"space-y-3",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium text-gray-900",children:a.assignee}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:a.assigneeEmail}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:a.assigneePhone})]})})]}),(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Durum \u0130\u015flemleri"}),(0,c.jsxs)("div",{className:"space-y-3",children:["pending"===a.status&&(0,c.jsx)(n.$n,{className:"w-full",variant:"primary",onClick:()=>k("in_progress"),children:"G\xf6reve Ba\u015fla"}),"in_progress"===a.status&&(0,c.jsx)(n.$n,{className:"w-full",variant:"success",onClick:()=>k("completed"),children:"Tamamla"}),"cancelled"!==a.status&&"completed"!==a.status&&(0,c.jsx)(n.$n,{className:"w-full",variant:"danger",onClick:()=>k("cancelled"),children:"\u0130ptal Et"})]})]}),(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\u0130lerleme G\xfcncelle"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)(n.pd,{type:"number",min:"0",max:"100",value:h,onChange:e=>g(e.target.value),placeholder:"\u0130lerleme y\xfczdesi"}),(0,c.jsx)(n.$n,{className:"w-full",variant:"primary",onClick:async()=>{try{const e=parseInt(h);if(e>=0&&e<=100){const l=(0,t.A)((0,t.A)({},a),{},{progress:e});s(l);const i={id:a.timeline.length+1,action:"progress_update",title:"\u0130lerleme G\xfcncellendi",description:"\u0130lerleme %".concat(e," olarak g\xfcncellendi"),timestamp:(new Date).toISOString(),user:"Mevcut Kullan\u0131c\u0131"};l.timeline.push(i),s(l)}}catch(e){console.error("Progress update error:",e)}},children:"\u0130lerlemeyi G\xfcncelle"})]})]}),(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zaman Kayd\u0131"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsx)(n.pd,{type:"number",step:"0.5",min:"0",value:y,onChange:e=>j(e.target.value),placeholder:"\xc7al\u0131\u015f\u0131lan saat"}),(0,c.jsx)(n.$n,{className:"w-full",variant:"outline",onClick:async()=>{try{const e=parseFloat(y);if(e>0){const l=(0,t.A)((0,t.A)({},a),{},{actualHours:(a.actualHours||0)+e});s(l),j("");const i={id:a.timeline.length+1,action:"time_log",title:"Zaman Kayd\u0131 Eklendi",description:"".concat(e," saat \xe7al\u0131\u015fma s\xfcresi eklendi"),timestamp:(new Date).toISOString(),user:"Mevcut Kullan\u0131c\u0131"};l.timeline.push(i),s(l)}}catch(e){console.error("Time log error:",e)}},children:"Zaman Ekle"})]})]}),(0,c.jsxs)(n.Zp,{className:"p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"G\xf6rev Ge\xe7mi\u015fi"}),(0,c.jsx)("div",{className:"space-y-4",children:a.timeline.map((e,a)=>(0,c.jsxs)("div",{className:"flex space-x-3",children:[(0,c.jsx)("div",{className:"flex-shrink-0",children:(0,c.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(0===a?"bg-blue-500":"bg-gray-300")})}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,c.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,c.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[b(e.timestamp)," - ",e.user]})]})]},e.id))})]})]})]})]}):(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"G\xf6rev Bulunamad\u0131"}),(0,c.jsx)("p",{className:"text-gray-600 mb-6",children:"Arad\u0131\u011f\u0131n\u0131z g\xf6rev mevcut de\u011fil."}),(0,c.jsx)(r.N_,{to:"/tasks",children:(0,c.jsx)(n.$n,{variant:"primary",children:"G\xf6revlere D\xf6n"})})]});var f,D}}}]);
//# sourceMappingURL=167.cdcf766f.chunk.js.map